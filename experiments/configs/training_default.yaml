# Default training configuration for quadcopter controller
# This configuration provides sensible defaults for getting started with training.

# Controller selection
# Options: deep, lqr, pid
# - deep: Neural network controller (requires training)
# - lqr: Linear Quadratic Regulator (no training, evaluation only)
# - pid: PID controller (no training, evaluation only)
controller: deep

# Training parameters
epochs: 100
episodes_per_epoch: 10
max_steps_per_episode: 3000
batch_size: 32

# Optimizer parameters
learning_rate: 0.001
optimizer: adam  # Options: adam, sgd, adamw
weight_decay: 0.0
grad_clip: 1.0

# Network architecture
hidden_sizes: [64, 64]
activation: relu  # Options: relu, tanh, elu, leaky_relu

# Loss function weights
position_weight: 1.0
velocity_weight: 0.1
control_weight: 0.01
error_type: l2  # Options: l2, l1, huber
tracking_weight: 1.0
reward_weight: 0.0  # Set > 0 to include reward shaping

# Environment parameters
env_seed: 42
target_motion_type: circular  # Options: linear, circular, sinusoidal, figure8, stationary
episode_length: 30.0  # seconds
target_radius: 0.5  # meters

# Checkpointing
checkpoint_dir: checkpoints
checkpoint_interval: 10
save_best: true

# Logging
log_dir: experiments/logs
log_interval: 1

# Curriculum learning (optional)
use_curriculum: false
curriculum_start_difficulty: 0.5
curriculum_end_difficulty: 1.0

# Recovery settings for training stability
nan_recovery_attempts: 3
lr_reduction_factor: 0.5

# Device (auto-detected if not specified)
# device: cpu

# =============================================================================
# Classical Controller Configuration (PID and LQR)
# =============================================================================
# These settings are used when evaluating PID or LQR controllers.
# Gains are tuned for circular motion tracking at moderate speeds.

# PID Controller Gains
# Tuned for smooth tracking of circular motion with 0.5m target radius
pid:
  # Position proportional gains [x, y, z] - higher for tighter tracking
  kp_pos: [2.0, 2.0, 4.0]
  # Position integral gains [x, y, z] - eliminates steady-state error
  ki_pos: [0.1, 0.1, 0.2]
  # Position derivative gains [x, y, z] - provides damping
  kd_pos: [1.5, 1.5, 2.0]
  # Integral windup limit - prevents runaway during large errors
  integral_limit: 5.0

# LQR Controller Gains
# Tuned for optimal tracking with balanced position/velocity response
lqr:
  # Position state cost weights [x, y, z] - higher = tighter tracking
  q_pos: [10.0, 10.0, 20.0]
  # Velocity state cost weights [vx, vy, vz] - higher = more damping
  q_vel: [5.0, 5.0, 10.0]
  # Thrust control cost - lower = more aggressive thrust changes
  r_thrust: 0.1
  # Angular rate control cost - lower = more aggressive maneuvers
  r_rate: 1.0
